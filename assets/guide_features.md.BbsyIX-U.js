import{_ as t,o as d,c as a,a2 as r}from"./chunks/framework.4MUDd9zK.js";const u=JSON.parse('{"title":"Features","description":"","frontmatter":{"title":"Features"},"headers":[],"relativePath":"guide/features.md","filePath":"guide/features.md"}'),o={name:"guide/features.md"};function n(i,e,l,c,s,m){return d(),a("div",null,[...e[0]||(e[0]=[r('<h1 id="features" tabindex="-1">Features <a class="header-anchor" href="#features" aria-label="Permalink to &quot;Features&quot;">​</a></h1><h2 id="memory-management" tabindex="-1">Memory Management <a class="header-anchor" href="#memory-management" aria-label="Permalink to &quot;Memory Management&quot;">​</a></h2><ul><li><strong>Structured model</strong> — purely device-allocated memory returned as Fortran <code>pointer</code> arrays (<code>dev_alloc</code>, <code>dev_free</code>, <code>dev_memcpy_*</code>). Device memory is not mapped to any host memory.</li><li><strong>Unstructured model</strong> — host <code>allocatable</code> arrays mapped onto the device (<code>dev_alloc_unstr</code>, <code>dev_free_unstr</code>, <code>dev_memcpy_*_unstr</code>).</li><li><strong>Assignment-style copy</strong> — <code>dev_assign_to_device</code> / <code>dev_assign_from_device</code> deallocate and reallocate automatically on size change, mimicking Fortran&#39;s left-hand-side reallocation for allocatables.</li></ul><h2 id="device-handling" tabindex="-1">Device Handling <a class="header-anchor" href="#device-handling" aria-label="Permalink to &quot;Device Handling&quot;">​</a></h2><ul><li>Query and set the current device ID (<code>dev_get_device_num</code>, <code>dev_set_device_num</code>)</li><li>Query device type, host ID, number of available devices, and device memory</li><li>Pretty-printed device property string for diagnostics (<code>dev_get_property_string</code>)</li></ul><h2 id="mpi-multi-device" tabindex="-1">MPI Multi-Device <a class="header-anchor" href="#mpi-multi-device" aria-label="Permalink to &quot;MPI Multi-Device&quot;">​</a></h2><p>The <code>fundal_mpih_object</code> module provides an auxiliary <code>mpih_object</code> class for MPI-enabled applications:</p><ul><li>MPI initialisation and finalisation wrappers</li><li>Automatic device assignment per MPI rank</li><li>Barrier, abort, and error-stop helpers</li><li>Tic/toc wall-clock timing utilities</li><li>Global environment variables (<code>mydev</code>, <code>myhos</code>, <code>devtype</code>, etc.) are exposed as pointers on the object for convenience</li></ul><h2 id="supported-array-types" tabindex="-1">Supported Array Types <a class="header-anchor" href="#supported-array-types" aria-label="Permalink to &quot;Supported Array Types&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Numeric kind</th><th>Ranks</th></tr></thead><tbody><tr><td><code>real(R8P)</code> (real64)</td><td>1–7</td></tr><tr><td><code>real(R4P)</code> (real32)</td><td>1–7</td></tr><tr><td><code>integer(I8P)</code> (int64)</td><td>1–7</td></tr><tr><td><code>integer(I4P)</code> (int32)</td><td>1–7</td></tr><tr><td><code>integer(I2P)</code> (int16)</td><td>1–7</td></tr><tr><td><code>integer(I1P)</code> (int8)</td><td>1–7</td></tr></tbody></table><h2 id="implementation-status" tabindex="-1">Implementation Status <a class="header-anchor" href="#implementation-status" aria-label="Permalink to &quot;Implementation Status&quot;">​</a></h2><h3 id="device-memory-handling" tabindex="-1">Device memory handling <a class="header-anchor" href="#device-memory-handling" aria-label="Permalink to &quot;Device memory handling&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Routine</th><th style="text-align:center;">OpenACC</th><th style="text-align:center;">OpenMP</th></tr></thead><tbody><tr><td><code>dev_alloc</code></td><td style="text-align:center;">✅</td><td style="text-align:center;">✅</td></tr><tr><td><code>dev_free</code></td><td style="text-align:center;">✅</td><td style="text-align:center;">✅</td></tr><tr><td><code>dev_memcpy_to_device</code></td><td style="text-align:center;">✅</td><td style="text-align:center;">✅</td></tr><tr><td><code>dev_memcpy_from_device</code></td><td style="text-align:center;">✅</td><td style="text-align:center;">✅</td></tr><tr><td><code>dev_assign_to_device</code></td><td style="text-align:center;">✅</td><td style="text-align:center;">✅</td></tr><tr><td><code>dev_assign_from_device</code></td><td style="text-align:center;">✅</td><td style="text-align:center;">✅</td></tr><tr><td><code>dev_alloc_unstr</code> / <code>dev_free_unstr</code></td><td style="text-align:center;">✅</td><td style="text-align:center;">✅</td></tr><tr><td><code>dev_memcpy_*_unstr</code></td><td style="text-align:center;">✅</td><td style="text-align:center;">✅</td></tr></tbody></table><h3 id="device-handling-1" tabindex="-1">Device handling <a class="header-anchor" href="#device-handling-1" aria-label="Permalink to &quot;Device handling&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Routine</th><th style="text-align:center;">OpenACC</th><th style="text-align:center;">OpenMP</th></tr></thead><tbody><tr><td><code>dev_get_device_num</code></td><td style="text-align:center;">✅</td><td style="text-align:center;">✅</td></tr><tr><td><code>dev_get_host_num</code></td><td style="text-align:center;">✅</td><td style="text-align:center;">✅</td></tr><tr><td><code>dev_get_num_devices</code></td><td style="text-align:center;">✅</td><td style="text-align:center;">✅</td></tr><tr><td><code>dev_get_device_type</code></td><td style="text-align:center;">✅</td><td style="text-align:center;">❌ (returns 0)</td></tr><tr><td><code>dev_get_property_string</code></td><td style="text-align:center;">✅</td><td style="text-align:center;">❌ (returns empty string)</td></tr></tbody></table><h2 id="compiler-support" tabindex="-1">Compiler Support <a class="header-anchor" href="#compiler-support" aria-label="Permalink to &quot;Compiler Support&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Compiler</th><th>Backend</th><th>Status</th></tr></thead><tbody><tr><td>NVIDIA nvfortran ≥ 12.3</td><td>OpenACC</td><td>Fully supported</td></tr><tr><td>Intel IFX ≥ 2024.0.2</td><td>OpenMP</td><td>Fully supported</td></tr><tr><td>GNU gfortran ≥ 13.1</td><td>OpenACC</td><td>Partial — compiles, some tests fail</td></tr><tr><td>AMD Flang</td><td>OpenMP</td><td>Supported</td></tr></tbody></table>',17)])])}const p=t(o,[["render",n]]);export{u as __pageData,p as default};
